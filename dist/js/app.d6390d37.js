(function(t){function e(e){for(var s,l,n=e[0],i=e[1],d=e[2],c=0,m=[];c<n.length;c++)l=n[c],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&m.push(o[l][0]),o[l]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var i=a[n];0!==o[i]&&(s=!1)}s&&(r.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},o={app:0},r=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],i=n.push.bind(n);n.push=e,n=n.slice();for(var d=0;d<n.length;d++)e(n[d]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},"261f":function(t,e,a){},3608:function(t,e,a){"use strict";var s=a("d097"),o=a.n(s);o.a},5153:function(t,e,a){"use strict";var s=a("844f"),o=a.n(s);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],l={mounted:function(){}},n=l,i=a("2877"),d=Object(i["a"])(n,o,r,!1,null,null,null),u=d.exports,c=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"index"}},[a("el-container",[a("el-aside",{staticStyle:{width:"auto"}},[t.$store.state.menu.menu&&t.$store.state.userInfo.info?a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1",collapse:t.isCollapse,router:""}},[a("el-menu-item",{attrs:{index:"index"}},[a("i",{staticClass:"el-icon-s-home"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._l(t.$store.state.menu.menu,(function(e,s){return a("el-submenu",{key:s,attrs:{index:e.path}},[a("template",{slot:"title"},[a("i",{class:t.iconType[e.id]}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])]),t._l(e.children,(function(e,s){return a("el-menu-item",{key:s,attrs:{index:e.path,disabled:-1==t.$store.state.userInfo.info.permissions.indexOf(e.path)}},[a("i",{class:t.iconType[e.id]}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])}))],2)}))],2):t._e()],1),t.$store.state.userInfo.info&&t.$store.state.userInfo.menuList?a("el-main",[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("div",{staticClass:"radio"},[a("el-radio-group",{staticStyle:{"margin-bottom":"20px"},model:{value:t.isCollapse,callback:function(e){t.isCollapse=e},expression:"isCollapse"}},[a("el-radio-button",{attrs:{label:!1}},[t._v("展开")]),a("el-radio-button",{attrs:{label:!0}},[t._v("收起")])],1)],1)])]),a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{"text-align":"right","padding-right":"40px"}},[t._v(" 当前账号: "),a("router-link",{staticStyle:{color:"deepskyblue"},attrs:{to:"info"}},[t._v(t._s(t.$store.state.userInfo.info.name))])],1)])],1),a("div",{staticClass:"subView"},[a("router-view")],1)],1):t._e()],1)],1)},p=[],f=(a("4160"),a("159b"),"http://39.101.217.150:8086"),h="/account/login",b="/menu/listForRouter",g="/account/info",v="/account/updatePwd",F="/article/articlebychannel",w="/channel/list",_="/menu/list",$="/user/list",y="/dept/list",S="/user",x="/role/roleTreeListByIdUser",k="/user/setRole",R="/role/list",D="/role",O="/dept",T="/menu",C={data:function(){return{isCollapse:!1,iconType:{1:"el-icon-setting",2:"el-icon-coin",4:"el-icon-user",12:"el-icon-lock",21:"el-icon-office-building",17:"el-icon-s-order",22:"el-icon-notebook-2",41:"el-icon-tickets",46:"el-icon-edit-outline",42:"el-icon-document-copy",45:"el-icon-folder-opened"}}},mounted:function(){this.getMenuList(),this.getmenu(),this.getUserInfo()},methods:{getmenu:function(){var t=this;this.$http.get(f+b).then((function(e){t.$store.commit("setmenu",e.data.data)}),(function(e){t.$router.push("/login")}))},getUserInfo:function(){var t=this;this.$http.get(f+g).then((function(e){t.$store.commit("setinfo",e.data.data)}),(function(t){}))},getMenuList:function(){var t=this;this.$http.get(f+_).then((function(e){e=e.data.data;var a={};e.forEach((function(e){e.children.forEach((function(e){t.$set(a,e.url,e.children)}))})),t.$store.commit("setmenuList",a)}),(function(t){}))}}},L=C,N=(a("e697"),Object(i["a"])(L,m,p,!1,null,null,null)),I=N.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"500px",margin:"150px auto"},attrs:{id:"login"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.login,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"账号",prop:"name"}},[a("el-input",{model:{value:t.login.user,callback:function(e){t.$set(t.login,"user",e)},expression:"login.user"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("登陆")])],1)],1)],1)},A=[],M={data:function(){return{login:{user:"",password:""}}},methods:{submitForm:function(){var t=this;""==this.login.user?this.$message.error("请输入账号"):""==this.login.password?this.$message.error("请输入密码"):this.$http.post(f+h,{username:this.login.user,password:this.login.password},{emulateJSON:!0}).then((function(e){e.data.success?(localStorage.token=e.data.data.token,location.href="/"):t.$message.error(e.data.msg)}),(function(e){t.$message.error(data.data.message)}))}}},j=M,P=Object(i["a"])(j,E,A,!1,null,null,null),U=P.exports,J=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"index"}},[a("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"mychart"}})])}],z=(a("d81d"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),{mounted:function(){this.getData()},data:function(){return{typeList:[],numList:[]}},methods:{drwChart:function(t,e){var a=this.$echarts.init(document.getElementById("mychart")),s={title:{text:"ECharts "},tooltip:{},legend:{data:["数量"]},xAxis:{data:t},yAxis:{},series:[{name:"销量",type:"bar",data:e}]};a.setOption(s)},getData:function(){var t=this;Promise.all([this.$http.get(f+w),this.$http.get(f+F)]).then((function(e){t.typeList=e[0].data.data.map((function(t){return t.name})),t.numList=e[1].data.data.map((function(t){return t.articles})),t.drwChart(t.typeList,t.numList)}),(function(t){console.log("出错了")}))}}}),V=z,Y=Object(i["a"])(V,J,B,!1,null,null,null),q=Y.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"info"}},[a("p",[t._v("账号信息："+t._s(t.$store.state.userInfo.info.profile.account))]),a("p",[t._v(" 修改密码： "),a("a",{staticStyle:{color:"deepskyblue"},on:{click:function(e){t.dialogState=!0}}},[t._v("修改")])]),a("p",[t._v("名字："+t._s(t.$store.state.userInfo.info.profile.name))]),a("p",[t._v("生日："+t._s(t.$store.state.userInfo.info.profile.birthday))]),a("p",[t._v("性别："+t._s(1===t.$store.state.userInfo.info.profile.sex?"男":"女"))]),a("p",[t._v("邮箱："+t._s(t.$store.state.userInfo.info.profile.email))]),a("p",[t._v("电话："+t._s(t.$store.state.userInfo.info.profile.phone))]),a("p",[t._v("部门："+t._s(t.$store.state.userInfo.info.profile.dept))]),a("p",[a("el-button",{attrs:{type:"danger"},on:{click:t.clearOut}},[t._v("退出")])],1),a("setpass",{attrs:{dialogState:t.dialogState,closeState:t.closeState}})],1)},H=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"setpass"}},[a("el-dialog",{attrs:{title:"修改密码",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.clearContent}},[a("el-form",{ref:"form",attrs:{model:t.pass,"label-width":"120px"}},[t._v(" "+t._s(t.pass)+" "),a("el-form-item",{attrs:{label:"旧密码"}},[a("el-input",{model:{value:t.pass.oldPassword,callback:function(e){t.$set(t.pass,"oldPassword",e)},expression:"pass.oldPassword"}})],1),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{model:{value:t.pass.password,callback:function(e){t.$set(t.pass,"password",e)},expression:"pass.password"}})],1),a("el-form-item",{attrs:{label:"重复新密码"}},[a("el-input",{model:{value:t.pass.rePassword,callback:function(e){t.$set(t.pass,"rePassword",e)},expression:"pass.rePassword"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.setpass}},[t._v("确 定")])],1)],1)],1)},Q=[],W={data:function(){return{pass:{oldPassword:"",password:"",rePassword:""},dialogFormVisible:this.dialogState}},props:["dialogState","closeState"],watch:{dialogState:function(t,e){this.dialogFormVisible=this.dialogState}},methods:{setpass:function(){var t=this;""==this.pass.oldPassword?this.$message.error("请输入旧密码"):""==this.pass.password?this.$message.error("请输入新密码"):""==this.pass.rePassword?this.$message.error("请重复输入新密码"):this.pass.rePassword!=this.pass.password?this.$message.error("两次输入新密码不一致"):this.$http.post(f+v,{oldPassword:this.pass.oldPassword,password:this.pass.password,rePassword:this.pass.rePassword},{emulateJSON:!0}).then((function(e){"成功"===e.data.msg?(t.$message.success("修改成功"),t.dialogFormVisible=!1):t.$message.error(e.data.msg)}),(function(e){t.$message.error(data.data.message)}))},clearContent:function(){for(var t in this.pass)this.pass[t]="";this.closeState()}}},X=W,Z=Object(i["a"])(X,K,Q,!1,null,null,null),tt=Z.exports,et={data:function(){return{dialogState:!1}},methods:{clearOut:function(){localStorage.clear(),location.href="/login"},closeState:function(){this.dialogState=!1}},components:{setpass:tt}},at=et,st=Object(i["a"])(at,G,H,!1,null,null,null),ot=st.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgr"}},[t._l(t.$store.state.userInfo.menuList[this.$route.path],(function(e){return a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"item.status==1"}],key:e.id,attrs:{type:"primary"},on:{click:function(a){return t.menuListBtn(e.code)}}},[t._v(t._s(e.name))])})),a("div",{staticClass:"searchCon"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入昵称关键字"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getUserList(1)}}},[t._v("查询")])],1),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1),t.tableData?a("div",{staticClass:"userList"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"500","highlight-current-row":!0},on:{"cell-click":t.cellSelect}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"昵称"}},[a("span",[t._v(t._s(e.row.name))])]),a("el-form-item",{attrs:{label:"账号"}},[a("span",[t._v(t._s(e.row.account))])]),a("el-form-item",{attrs:{label:"状态"}},[a("span",[t._v(t._s(e.row.statusName))])]),a("el-form-item",{attrs:{label:"手机"}},[a("span",[t._v(t._s(e.row.phone))])]),a("el-form-item",{attrs:{label:"邮箱"}},[a("span",[t._v(t._s(e.row.email))])]),a("el-form-item",{attrs:{label:"部门名称"}},[a("span",[t._v(t._s(e.row.deptName))])]),a("el-form-item",{attrs:{label:"角色名称"}},[a("span",[t._v(t._s(e.row.roleName))])]),a("el-form-item",{attrs:{label:"性别"}},[a("span",[t._v(t._s(e.row.sexName))])]),a("el-form-item",{attrs:{label:"生日"}},[a("span",[t._v(t._s(e.row.birthday))])]),a("el-form-item",{attrs:{label:"创建时间"}},[a("span",[t._v(t._s(e.row.createTime))])])],1)]}}],null,!1,4214260996)}),a("el-table-column",{attrs:{label:"昵称",prop:"name"}}),a("el-table-column",{attrs:{label:"账号",prop:"account"}}),a("el-table-column",{attrs:{label:"状态",prop:"statusName"}})],1)],1):t._e(),t.total?a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize},on:{"current-change":t.changePage}})],1):t._e(),a("mgr-add",{attrs:{status:t.buttonType.mgrAdd,fun:t.closeDialog,tname:"mgrAdd",refresh:t.reset}}),a("mgr-edit",{attrs:{status:t.buttonType.mgrEdit,fun:t.closeDialog,tname:"mgrEdit",tableRow:t.tableRow,refresh:t.reset}}),a("mgr-setRole",{attrs:{status:t.buttonType.mgrSetRole,fun:t.closeDialog,tname:"mgrSetRole",tableRow:t.tableRow,refresh:t.reset}}),a("mgr-delete",{attrs:{status:t.buttonType.mgrDelete,fun:t.closeDialog,tname:"mgrDelete",tableRow:t.tableRow,refresh:t.reset}})],2)},lt=[],nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgrAddMain"}},[a("el-dialog",{attrs:{title:"修改用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t._v(" "+t._s(t.addForm)+" "),t.deptOptions?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账户"}},[a("el-input",{model:{value:t.addForm.account,callback:function(e){t.$set(t.addForm,"account",e)},expression:"addForm.account"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:t.addForm.password,callback:function(e){t.$set(t.addForm,"password",e)},expression:"addForm.password"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addForm.birthday,callback:function(e){t.$set(t.addForm,"birthday",e)},expression:"addForm.birthday"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:t.addForm.sex,callback:function(e){t.$set(t.addForm,"sex",e)},expression:"addForm.sex"}},[a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:t.addForm.email,callback:function(e){t.$set(t.addForm,"email",e)},expression:"addForm.email"}})],1),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:t.addForm.phone,callback:function(e){t.$set(t.addForm,"phone",e)},expression:"addForm.phone"}})],1),a("el-form-item",{attrs:{label:"部门"}},[a("el-cascader",{attrs:{options:t.deptOptions,"show-all-levels":!1,props:t.props},model:{value:t.addForm.deptid,callback:function(e){t.$set(t.addForm,"deptid",e)},expression:"addForm.deptid"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:t.addForm.status,callback:function(e){t.$set(t.addForm,"status",e)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("禁用")]),a("el-radio",{attrs:{label:"2"}},[t._v("启用")])],1)],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upUser}},[t._v("确 定")])],1)],1)],1)},it=[],dt={mounted:function(){this.getDeptLlist()},data:function(){return{subStatus:this.status,addForm:{account:"",name:"",birthday:"",password:"",sex:1,email:"",phone:"",deptid:"",status:1},deptOptions:"",props:{value:"id",label:"simplename",children:"children"}}},props:["status","fun","tname","refresh"],watch:{status:function(){this.subStatus=this.status}},methods:{getDeptLlist:function(){var t=this;this.$http.get(f+y).then((function(e){t.deptOptions=t.deptNullClear(e.data.data)}),(function(t){}))},deptNullClear:function(t){for(var e=0;e<t.length;e++)0==t[e].children.length?t[e].children=null:this.deptNullClear(t[e].children);return t},upUser:function(){var t=this,e=!0;for(var a in this.addForm)""==this.addForm[a]&&(e=!1);e?(this.addForm.deptid=this.addForm.deptid[this.addForm.deptid.length-1],this.addForm.birthday=this.setDate(this.addForm.birthday),this.$http.post(f+S,this.addForm,{emulateJSON:!0}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("添加用户成功")}}),(function(e){t.$message.error(e.data.message)}))):this.$message.error("请补全信息")},setDate:function(t){new Date(t);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}},ut=dt,ct=Object(i["a"])(ut,nt,it,!1,null,null,null),mt=ct.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgrAddMain"}},[a("el-dialog",{attrs:{title:"修改用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t._v(" "+t._s(t.addForm)+" "),t.deptOptions?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账户"}},[a("el-input",{model:{value:t.addForm.account,callback:function(e){t.$set(t.addForm,"account",e)},expression:"addForm.account"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:t.addForm.password,callback:function(e){t.$set(t.addForm,"password",e)},expression:"addForm.password"}})],1),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.addForm.birthday,callback:function(e){t.$set(t.addForm,"birthday",e)},expression:"addForm.birthday"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:t.addForm.sex,callback:function(e){t.$set(t.addForm,"sex",e)},expression:"addForm.sex"}},[a("el-radio",{attrs:{label:"1"}},[t._v("男")]),a("el-radio",{attrs:{label:"2"}},[t._v("女")])],1)],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:t.addForm.email,callback:function(e){t.$set(t.addForm,"email",e)},expression:"addForm.email"}})],1),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:t.addForm.phone,callback:function(e){t.$set(t.addForm,"phone",e)},expression:"addForm.phone"}})],1),a("el-form-item",{attrs:{label:"部门"}},[a("el-cascader",{attrs:{options:t.deptOptions,"show-all-levels":!1,props:t.props},model:{value:t.addForm.deptid,callback:function(e){t.$set(t.addForm,"deptid",e)},expression:"addForm.deptid"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:t.addForm.status,callback:function(e){t.$set(t.addForm,"status",e)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),a("el-radio",{attrs:{label:"2"}},[t._v("冻结")])],1)],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upUser}},[t._v("确 定")])],1)],1)],1)},ft=[],ht=(a("25f0"),{mounted:function(){this.getDeptLlist()},data:function(){return{subStatus:this.status,addFormType:{account:"",name:"",birthday:"",password:"",sex:1,email:"",phone:"",deptid:"",status:1},addForm:"",deptOptions:"",props:{value:"id",label:"simplename",children:"children"}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status},tableRow:function(){var t={};for(var e in this.tableRow)this.$set(t,e,this.tableRow[e].toString());this.addForm=t}},methods:{getDeptLlist:function(){var t=this;this.$http.get(f+y).then((function(e){t.deptOptions=t.deptNullClear(e.data.data)}),(function(t){}))},deptNullClear:function(t){for(var e=0;e<t.length;e++)0==t[e].children.length?t[e].children=null:this.deptNullClear(t[e].children);return t},upUser:function(){var t=this,e=!0;for(var a in this.addFormType)""==this.addForm[a]&&(e=!1);e?(Array.isArray(this.addForm.deptid)&&(this.addForm.deptid=this.addForm.deptid[this.addForm.deptid.length-1]),this.addForm.birthday=this.setDate(this.addForm.birthday),this.$http.post(f+S,this.addForm,{emulateJSON:!0}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("修改成功")}}),(function(e){t.$message.error(e.data.message)}))):this.$message.error("请补全信息")},setDate:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}}}),bt=ht,gt=Object(i["a"])(bt,pt,ft,!1,null,null,null),vt=gt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgrAddMain"}},[a("el-dialog",{attrs:{title:"分配角色",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t.roleTree?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-select",{attrs:{placeholder:"未分配请选择"},model:{value:t.addForm.roleIds,callback:function(e){t.$set(t.addForm,"roleIds",e)},expression:"addForm.roleIds"}},t._l(t.roleTree.treeData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setRole}},[t._v("确 定")])],1)],1)],1)},wt=[],_t={mounted:function(){this.getRoleTree()},data:function(){return{subStatus:this.status,roleTree:"",addForm:{roleIds:this.tableRow.roleid}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status},tableRow:function(){this.addForm.roleIds=this.tableRow.roleid}},methods:{getRoleTree:function(){var t=this;this.$http.get(f+x,{params:{idUser:this.$store.state.userInfo.info.profile.id}}).then((function(e){t.roleTree=e.data.data}),(function(t){console.log(t.data.message)}))},setRole:function(){var t=this;this.addForm.roleIds?this.$http.get(f+k,{params:{userId:this.tableRow.id,roleIds:this.addForm.roleIds}}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("角色分配成功")}}),(function(e){t.$message.error(e.data.message)})):this.$message.error("请选择角色")}}},$t=_t,yt=Object(i["a"])($t,Ft,wt,!1,null,null,null),St=yt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgrAddMain"}},[a("el-dialog",{attrs:{title:"删除用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t._v(" 你确定要删除用户 "),a("span",{staticStyle:{color:"deepskyblue"}},[t._v(t._s(t.tableRow.name))]),t._v(" 吗？ "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteUser}},[t._v("确 定")])],1)])],1)},kt=[],Rt={mounted:function(){},data:function(){return{subStatus:this.status,addForm:{roleIds:this.tableRow.roleid}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status}},methods:{deleteUser:function(){var t=this;3!=this.tableRow.status?this.$http.delete(f+S,{params:{userId:this.tableRow.id}}).then((function(e){"成功"===e.data.msg&&(t.subStatus=!1,t.refresh(),t.$message.success("删除成功"))}),(function(e){t.$message.error(e.data.message)})):this.$message.error("用户已经删除，请勿重复操作")}}},Dt=Rt,Ot=Object(i["a"])(Dt,xt,kt,!1,null,null,null),Tt=Ot.exports,Ct={mounted:function(){this.getUserList(1)},data:function(){return{tableData:"",total:"",currentPage:1,pageSize:8,searchName:"",buttonType:{mgrAdd:!1,mgrEdit:!1,mgrDelete:!1,mgrSetRole:!1},tableRow:"",mgrAddDialogState:!1}},components:{mgrAdd:mt,mgrEdit:vt,mgrSetRole:St,mgrDelete:Tt},methods:{closeDialog:function(t){this.buttonType[t]=!1},cellSelect:function(t){this.tableRow=t},menuListBtn:function(t){"mgrAdd"===t?this.buttonType[t]=!0:""===this.tableRow?this.$message.error("请选择要操作的用户"):"mgrFreeze"===t?2===this.tableRow.status?this.$message.error("当前用户已经是禁用状态"):this.buttonType[t]=!0:"mgrUnfreeze"===t&&1===this.tableRow.status?this.$message.error("当前用户已经是启用状态"):this.buttonType[t]=!0},reset:function(){this.searchName="",this.getUserList(this.currentPage),this.tableRow=""},changePage:function(t){this.currentPage=t,this.getUserList(t)},getUserList:function(t){var e=this;this.$http.get(f+$,{params:{page:t,limit:this.pageSize,name:this.searchName}}).then((function(t){e.tableData=t.data.data.records,e.total=t.data.data.total}),(function(t){console.log(t)}))}}},Lt=Ct,Nt=(a("5153"),Object(i["a"])(Lt,rt,lt,!1,null,null,null)),It=Nt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"role"}},[t._l(t.$store.state.userInfo.menuList[this.$route.path],(function(e){return a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"item.status==1"}],key:e.id,attrs:{type:"primary"},on:{click:function(a){return t.menuListBtn(e.code)}}},[t._v(t._s(e.name))])})),a("div",{staticClass:"searchCon"},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"请输入昵称关键字"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getRoleList()}}},[t._v("查询")])],1),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1),t.tableData?a("div",{staticClass:"userList"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"500","highlight-current-row":!0},on:{"cell-click":t.cellSelect}},[a("el-table-column",{attrs:{label:"角色名称",prop:"name"}}),a("el-table-column",{attrs:{label:"部门名称",prop:"deptName"}}),a("el-table-column",{attrs:{label:"id",prop:"id"}})],1)],1):t._e(),a("role-add",{attrs:{status:t.buttonType.roleAdd,fun:t.closeDialog,tname:"roleAdd",refresh:t.reset}}),a("role-edit",{attrs:{status:t.buttonType.roleEdit,fun:t.closeDialog,tname:"roleEdit",tableRow:t.tableRow,refresh:t.reset}}),a("role-set",{attrs:{status:t.buttonType.roleSet,fun:t.closeDialog,tname:"roleSet",tableRow:t.tableRow,refresh:t.reset}}),a("role-delete",{attrs:{status:t.buttonType.roleDelete,fun:t.closeDialog,tname:"roleDelete",tableRow:t.tableRow,refresh:t.reset}})],2)},At=[],Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"roleAddMain"}},[a("el-dialog",{attrs:{title:"修改用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t.deptOptions?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"角色编码"}},[a("el-input",{model:{value:t.addForm.tips,callback:function(e){t.$set(t.addForm,"tips",e)},expression:"addForm.tips"}})],1),a("el-form-item",{attrs:{label:"部门"}},[a("el-cascader",{attrs:{options:t.deptOptions,"show-all-levels":!1,props:t.props},model:{value:t.addForm.deptid,callback:function(e){t.$set(t.addForm,"deptid",e)},expression:"addForm.deptid"}})],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upRole}},[t._v("确 定")])],1)],1)],1)},jt=[],Pt={mounted:function(){this.getDeptLlist(),console.log()},data:function(){return{subStatus:this.status,addForm:{tips:"",name:"",deptid:""},deptOptions:"",props:{value:"id",label:"simplename",children:"children"}}},props:["status","fun","tname","refresh"],watch:{status:function(){this.subStatus=this.status}},methods:{getDeptLlist:function(){var t=this;this.$http.get(f+y).then((function(e){t.deptOptions=t.deptNullClear(e.data.data)}),(function(t){}))},deptNullClear:function(t){for(var e=0;e<t.length;e++)0==t[e].children.length?t[e].children=null:this.deptNullClear(t[e].children);return t},upRole:function(){var t=this,e=!0;for(var a in this.addForm)""==this.addForm[a]&&(e=!1);e?(this.addForm.deptid=this.addForm.deptid[this.addForm.deptid.length-1],this.addForm.pid=this.$store.state.userInfo.info.profile.id,this.addForm.num=0,this.$http.post(f+D,JSON.stringify(this.addForm),{emulateJSON:!0}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("添加用户成功")}}),(function(e){t.$message.error(e.data.message)})),delete this.addForm.num,delete this.addForm.pid):this.$message.error("请补全信息")},setDate:function(t){new Date(t);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}},Ut=Pt,Jt=Object(i["a"])(Ut,Mt,jt,!1,null,null,null),Bt=Jt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"roleAddMain"}},[a("el-dialog",{attrs:{title:"修改用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t._v(" "+t._s(t.addForm)+" "),t.deptOptions?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"角色编码"}},[a("el-input",{model:{value:t.addForm.tips,callback:function(e){t.$set(t.addForm,"tips",e)},expression:"addForm.tips"}})],1),a("el-form-item",{attrs:{label:"部门"}},[a("el-cascader",{attrs:{options:t.deptOptions,"show-all-levels":!1,props:t.props},model:{value:t.addForm.deptid,callback:function(e){t.$set(t.addForm,"deptid",e)},expression:"addForm.deptid"}})],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upUser}},[t._v("确 定")])],1)],1)],1)},Vt=[],Yt={mounted:function(){this.getDeptLlist()},data:function(){return{subStatus:this.status,addFormType:{tips:"",name:"",deptid:""},addForm:"",deptOptions:"",props:{value:"id",label:"simplename",children:"children"}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status},tableRow:function(){var t={};for(var e in this.tableRow)this.$set(t,e,this.tableRow[e].toString());this.addForm=t}},methods:{getDeptLlist:function(){var t=this;this.$http.get(f+y).then((function(e){t.deptOptions=t.deptNullClear(e.data.data)}),(function(t){}))},deptNullClear:function(t){for(var e=0;e<t.length;e++)0==t[e].children.length?t[e].children=null:this.deptNullClear(t[e].children);return t},upUser:function(){var t=this,e=!0;for(var a in this.addFormType)""==this.addForm[a]&&(e=!1);e?(Array.isArray(this.addForm.deptid)&&(this.addForm.deptid=this.addForm.deptid[this.addForm.deptid.length-1]),this.$http.post(f+D,JSON.stringify(this.addForm),{emulateJSON:!0}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("修改成功")}}),(function(e){t.$message.error(e.data.message)}))):this.$message.error("请补全信息")},setDate:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}}},qt=Yt,Gt=Object(i["a"])(qt,zt,Vt,!1,null,null,null),Ht=Gt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"roleSetMain"}},[a("el-dialog",{attrs:{title:"分配角色",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t.roleTree?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-select",{attrs:{placeholder:"未分配请选择"},model:{value:t.addForm.roleIds,callback:function(e){t.$set(t.addForm,"roleIds",e)},expression:"addForm.roleIds"}},t._l(t.roleTree.treeData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.setRole}},[t._v("确 定")])],1)],1)],1)},Qt=[],Wt={mounted:function(){this.getRoleTree()},data:function(){return{subStatus:this.status,roleTree:"",addForm:{roleIds:this.tableRow.roleid}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status},tableRow:function(){this.addForm.roleIds=this.tableRow.roleid}},methods:{getRoleTree:function(){var t=this;this.$http.get(f+x,{params:{idUser:this.$store.state.userInfo.info.profile.id}}).then((function(e){t.roleTree=e.data.data}),(function(t){console.log(t.data.message)}))},setRole:function(){var t=this;this.addForm.roleIds?this.$http.get(f+D,{params:{userId:this.tableRow.id,roleIds:this.addForm.roleIds}}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("角色分配成功")}}),(function(e){t.$message.error(e.data.message)})):this.$message.error("请选择角色")}}},Xt=Wt,Zt=Object(i["a"])(Xt,Kt,Qt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"roleDeleteMain"}},[a("el-dialog",{attrs:{title:"删除用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t._v(" 你确定要删除用户 "),a("span",{staticStyle:{color:"deepskyblue"}},[t._v(t._s(t.tableRow.name))]),t._v(" 吗？ "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteUser}},[t._v("确 定")])],1)])],1)},ae=[],se={mounted:function(){},data:function(){return{subStatus:this.status,addForm:{roleIds:this.tableRow.roleid}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status}},methods:{deleteUser:function(){var t=this;3!=this.tableRow.status?this.$http.delete(f+D,{params:{roleId:this.tableRow.id}}).then((function(e){"成功"===e.data.msg&&(t.subStatus=!1,t.refresh(),t.$message.success("删除成功"))}),(function(e){t.$message.error(e.data.message)})):this.$message.error("用户已经删除，请勿重复操作")}}},oe=se,re=Object(i["a"])(oe,ee,ae,!1,null,null,null),le=re.exports,ne={mounted:function(){this.getRoleList()},data:function(){return{tableData:"",searchName:"",buttonType:{roleAdd:!1,roleEdit:!1,roleDelete:!1,roleSet:!1},tableRow:"",roleAddDialogState:!1}},components:{roleAdd:Bt,roleEdit:Ht,roleSet:te,roleDelete:le},methods:{closeDialog:function(t){this.buttonType[t]=!1},cellSelect:function(t){this.tableRow=t},menuListBtn:function(t){"roleAdd"===t?this.buttonType[t]=!0:""===this.tableRow?this.$message.error("请选择要操作的用户"):this.buttonType[t]=!0},reset:function(){this.searchName="",this.getRoleList(),this.tableRow=""},getRoleList:function(){var t=this;this.$http.get(f+R,{params:{name:this.searchName}}).then((function(e){t.tableData=e.data.data,t.total=e.data.data.total}),(function(t){console.log(t)}))}}},ie=ne,de=(a("3608"),Object(i["a"])(ie,Et,At,!1,null,null,null)),ue=de.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"dept"}},[t._l(t.$store.state.userInfo.menuList[this.$route.path],(function(e){return a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"item.status==1"}],key:e.id,attrs:{type:"primary"},on:{click:function(a){return t.menuListBtn(e.code)}}},[t._v(t._s(e.name))])})),t.tableData?a("div",{staticClass:"userList",staticStyle:{padding:"10px"}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","highlight-current-row":t.highlightFlag,"tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"cell-click":t.cellSelect}},[a("el-table-column",{attrs:{prop:"fullname",label:"部门全称",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"simplename",label:"部门简称",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"id",label:"当前部门id"}})],1)],1):t._e(),a("dept-add",{attrs:{status:t.buttonType.deptAdd,fun:t.closeDialog,tname:"deptAdd",refresh:t.reset,tableRow:t.tableRow}}),a("dept-edit",{attrs:{status:t.buttonType.deptEdit,fun:t.closeDialog,tname:"deptEdit",tableRow:t.tableRow,refresh:t.reset}}),a("dept-delete",{attrs:{status:t.buttonType.deptDelete,fun:t.closeDialog,tname:"deptDelete",tableRow:t.tableRow,refresh:t.reset}})],2)},me=[],pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"deptAddMain"}},[a("el-dialog",{attrs:{title:"修改用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[""===t.tableRow?a("el-alert",{staticStyle:{margin:"10px"},attrs:{title:"当前创建公司一级部门,如需创建子部门请提前选择要创建的父级部门",type:"info","show-icon":"",closable:!1}}):a("el-alert",{staticStyle:{margin:"10px"},attrs:{title:"当前创建的是 "+t.tableRow.fullname+" 下的部门,如需创建子部门请提前选择要创建的父级部门",type:"info","show-icon":"",closable:!1}}),t.addForm?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"部门全称"}},[a("el-input",{model:{value:t.addForm.fullname,callback:function(e){t.$set(t.addForm,"fullname",e)},expression:"addForm.fullname"}})],1),a("el-form-item",{attrs:{label:"部门简称"}},[a("el-input",{model:{value:t.addForm.simplename,callback:function(e){t.$set(t.addForm,"simplename",e)},expression:"addForm.simplename"}})],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upDept}},[t._v("确 定")])],1)],1)],1)},fe=[],he={data:function(){return{subStatus:this.status,addForm:{simplename:"",fullname:""},deptOptions:"",props:{value:"id",label:"simplename",children:"children"}}},props:["status","fun","tname","refresh","tableRow"],watch:{status:function(){this.subStatus=this.status}},methods:{upDept:function(){var t=this,e=!0;for(var a in this.addForm)""==this.addForm[a]&&(e=!1);e?(""==this.tableRow?this.addForm.pid=0:this.addForm.pid=this.tableRow.id,this.addForm.num=0,this.$http.post(f+O,JSON.stringify(this.addForm),{emulateJSON:!0}).then((function(e){if(e.data.success){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("添加部门成功")}}),(function(e){t.$message.error(e.data.message)})),delete this.addForm.num,delete this.addForm.pid):this.$message.error("请补全信息")},setDate:function(t){new Date(t);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}},be=he,ge=Object(i["a"])(be,pe,fe,!1,null,null,null),ve=ge.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgrAddMain"}},[a("el-dialog",{attrs:{title:"修改菜单",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t.addForm?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"部门全称"}},[a("el-input",{model:{value:t.addForm.fullname,callback:function(e){t.$set(t.addForm,"fullname",e)},expression:"addForm.fullname"}})],1),a("el-form-item",{attrs:{label:"部门简称"}},[a("el-input",{model:{value:t.addForm.simplename,callback:function(e){t.$set(t.addForm,"simplename",e)},expression:"addForm.simplename"}})],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upUser}},[t._v("确 定")])],1)],1)],1)},we=[],_e={data:function(){return{subStatus:this.status,addFormType:{simplename:"",fullname:""},addForm:""}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status},tableRow:function(){var t={};for(var e in this.tableRow)this.$set(t,e,this.tableRow[e].toString());this.addForm=t}},methods:{upUser:function(){var t=this,e=!0;for(var a in this.addFormType)""==this.addForm[a]&&(e=!1);e?this.$http.post(f+O,JSON.stringify(this.addForm),{emulateJSON:!0}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("修改成功")}}),(function(e){t.$message.error(e.data.message)})):this.$message.error("请补全信息")}}},$e=_e,ye=Object(i["a"])($e,Fe,we,!1,null,null,null),Se=ye.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgrAddMain"}},[a("el-dialog",{attrs:{title:"删除用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t._v(" 你确定要删除部门 "),a("span",{staticStyle:{color:"deepskyblue"}},[t._v(t._s(t.tableRow.fullname))]),t._v(" 吗？ "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteDept}},[t._v("确 定")])],1)])],1)},ke=[],Re={mounted:function(){},data:function(){return{subStatus:this.status,addForm:{deptIds:this.tableRow.roleid}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status}},methods:{deleteDept:function(){var t=this;3!=this.tableRow.status?this.$http.delete(f+O,{params:{id:this.tableRow.id}}).then((function(e){"成功"===e.data.msg&&(t.subStatus=!1,t.refresh(),t.$message.success("删除成功"))}),(function(e){t.$message.error(e.data.message)})):this.$message.error("用户已经删除，请勿重复操作")}}},De=Re,Oe=Object(i["a"])(De,xe,ke,!1,null,null,null),Te=Oe.exports,Ce={mounted:function(){this.getDeptList(1)},data:function(){return{highlightFlag:!0,tableData:"",buttonType:{deptAdd:!1,deptEdit:!1,deptDelete:!1},tableRow:"",deptAddDialogState:!1}},components:{deptAdd:ve,deptEdit:Se,deptDelete:Te},methods:{closeDialog:function(t){this.buttonType[t]=!1,this.tableRow="",this.highlightFlag=!1},cellSelect:function(t){this.highlightFlag=!0,this.tableRow=t},menuListBtn:function(t){"deptAdd"===t?this.buttonType[t]=!0:""===this.tableRow?this.$message.error("请选择要操作的用户"):this.buttonType[t]=!0},reset:function(){this.getDeptList(),this.tableRow=""},getDeptList:function(){var t=this;this.$http.get(f+y).then((function(e){t.tableData=e.data.data}),(function(t){console.log(t)}))}}},Le=Ce,Ne=(a("a26b"),Object(i["a"])(Le,ce,me,!1,null,null,null)),Ie=Ne.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menu"}},[t._l(t.$store.state.userInfo.menuList[this.$route.path],(function(e){return a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"item.status==1"}],key:e.id,attrs:{type:"primary"},on:{click:function(a){return t.menuListBtn(e.code)}}},[t._v(t._s(e.name))])})),t.tableData?a("div",{staticClass:"userList",staticStyle:{padding:"10px"}},[a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.tableData,"row-key":"id",border:"","highlight-current-row":t.highlightFlag,"tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"cell-click":t.cellSelect}},[a("el-table-column",{attrs:{prop:"name",label:"菜单名称",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"url",label:"链接",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"isMenuName",label:"是否是菜单"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:t.statusTransform}}),a("el-table-column",{attrs:{prop:"id",label:"菜单id"}})],1)],1):t._e(),a("menu-add",{attrs:{status:t.buttonType.menuAdd,fun:t.closeDialog,tname:"menuAdd",refresh:t.reset,tableRow:t.tableRow}}),a("menu-edit",{attrs:{status:t.buttonType.menuEdit,fun:t.closeDialog,tname:"menuEdit",tableRow:t.tableRow,refresh:t.reset}}),a("menu-delete",{attrs:{status:t.buttonType.menuDelete,fun:t.closeDialog,tname:"menuDelete",tableRow:t.tableRow,refresh:t.reset}})],2)},Ae=[],Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menuAddMain"}},[a("el-dialog",{attrs:{title:"添加菜单",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[""===t.tableRow?a("el-alert",{staticStyle:{margin:"10px"},attrs:{title:"当前添加的是一级菜单",type:"info","show-icon":"",closable:!1}}):a("el-alert",{staticStyle:{margin:"10px"},attrs:{title:"当前创建的是 "+t.tableRow.name+" 下的子菜单",type:"info","show-icon":"",closable:!1}}),t.addForm?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"编码"}},[a("el-input",{model:{value:t.addForm.code,callback:function(e){t.$set(t.addForm,"code",e)},expression:"addForm.code"}})],1),a("el-form-item",{attrs:{label:"组件"}},[a("el-input",{model:{value:t.addForm.component,callback:function(e){t.$set(t.addForm,"component",e)},expression:"addForm.component"}})],1),a("el-form-item",{attrs:{label:"链接"}},[a("el-input",{model:{value:t.addForm.url,callback:function(e){t.$set(t.addForm,"url",e)},expression:"addForm.url"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:t.addForm.status,callback:function(e){t.$set(t.addForm,"status",e)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:"0"}},[t._v("弃用")]),a("el-radio",{attrs:{label:"1"}},[t._v("启用")])],1)],1),a("el-form-item",{attrs:{label:"是否是菜单"}},[a("el-radio-group",{model:{value:t.addForm.isMenu,callback:function(e){t.$set(t.addForm,"isMenu",e)},expression:"addForm.isMenu"}},[a("el-radio",{attrs:{label:"0"}},[t._v("是")]),a("el-radio",{attrs:{label:"1"}},[t._v("按钮")])],1)],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upDept}},[t._v("确 定")])],1)],1)],1)},je=[],Pe={data:function(){return{subStatus:this.status,addForm:{name:"",code:"",component:"",url:"",status:"",isMenu:""},deptOptions:"",props:{value:"id",label:"simplename",children:"children"}}},props:["status","fun","tname","refresh","tableRow"],watch:{status:function(){this.subStatus=this.status}},methods:{upDept:function(){var t=this,e=!0;for(var a in this.addForm)""==this.addForm[a]&&(e=!1);e?(""==this.tableRow?this.addForm.pcode=0:this.addForm.pcode=this.tableRow.code,this.addForm.num=0,this.$http.post(f+T,JSON.stringify(this.addForm),{emulateJSON:!0}).then((function(e){if(e.data.success){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("添加部门成功")}}),(function(e){t.$message.error(e.data.message)})),delete this.addForm.pcode,delete this.addForm.pid):this.$message.error("请补全信息")}}},Ue=Pe,Je=Object(i["a"])(Ue,Me,je,!1,null,null,null),Be=Je.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mgrAddMain"}},[a("el-dialog",{attrs:{title:"修改用户",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t.addForm?a("el-form",{ref:"form",attrs:{model:t.addForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"编码"}},[a("el-input",{model:{value:t.addForm.code,callback:function(e){t.$set(t.addForm,"code",e)},expression:"addForm.code"}})],1),a("el-form-item",{attrs:{label:"组件"}},[a("el-input",{model:{value:t.addForm.component,callback:function(e){t.$set(t.addForm,"component",e)},expression:"addForm.component"}})],1),a("el-form-item",{attrs:{label:"链接"}},[a("el-input",{model:{value:t.addForm.url,callback:function(e){t.$set(t.addForm,"url",e)},expression:"addForm.url"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:t.addForm.status,callback:function(e){t.$set(t.addForm,"status",e)},expression:"addForm.status"}},[a("el-radio",{attrs:{label:"0"}},[t._v("弃用")]),a("el-radio",{attrs:{label:"1"}},[t._v("启用")])],1)],1),a("el-form-item",{attrs:{label:"是否是菜单"}},[a("el-radio-group",{model:{value:t.addForm.isMenu,callback:function(e){t.$set(t.addForm,"isMenu",e)},expression:"addForm.isMenu"}},[a("el-radio",{attrs:{label:"0"}},[t._v("按钮")]),a("el-radio",{attrs:{label:"1"}},[t._v("菜单")])],1)],1)],1):t._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.upMenu}},[t._v("确 定")])],1)],1)],1)},Ve=[],Ye={data:function(){return{subStatus:this.status,addFormType:{name:"",code:"",component:"",url:"",status:"",isMenu:""},addForm:""}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status},tableRow:function(){var t={};for(var e in this.tableRow)this.$set(t,e,this.tableRow[e].toString());this.addForm=t}},methods:{upMenu:function(){var t=this,e=!0;for(var a in this.addFormType)""==this.addForm[a]&&(e=!1);e?this.$http.post(f+T,JSON.stringify(this.addForm),{emulateJSON:!0}).then((function(e){if("成功"===e.data.msg){for(var a in t.subStatus=!1,t.addForm)t.addForm[a]="";t.refresh(),t.$message.success("修改成功")}}),(function(e){t.$message.error(e.data.message)})):this.$message.error("请补全信息")}}},qe=Ye,Ge=Object(i["a"])(qe,ze,Ve,!1,null,null,null),He=Ge.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menuDelMain"}},[a("el-dialog",{attrs:{title:"删除菜单",visible:t.subStatus},on:{"update:visible":function(e){t.subStatus=e},close:function(e){return t.fun(t.tname)}}},[t._v(" 你确定要删除菜单 "),a("span",{staticStyle:{color:"deepskyblue"}},[t._v(t._s(t.tableRow.name))]),t._v(" 吗？ "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.subStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteMenu}},[t._v("确 定")])],1)])],1)},Qe=[],We={mounted:function(){},data:function(){return{subStatus:this.status,addForm:{menutIds:this.tableRow.id}}},props:["status","fun","tname","tableRow","refresh"],watch:{status:function(){this.subStatus=this.status}},methods:{deleteMenu:function(){var t=this;this.$http.delete(f+T,{params:{id:this.tableRow.id}}).then((function(e){e.data.success&&(t.subStatus=!1,t.refresh(),t.$message.success("删除成功"))}),(function(e){t.$message.error(e.data.message)}))}}},Xe=We,Ze=Object(i["a"])(Xe,Ke,Qe,!1,null,null,null),ta=Ze.exports,ea={mounted:function(){this.getMenuList(1)},data:function(){return{highlightFlag:!0,tableData:"",buttonType:{menuAdd:!1,menuEdit:!1,menuDelete:!1},tableRow:"",menuAddDialogState:!1}},components:{menuAdd:Be,menuEdit:He,menuDelete:ta},methods:{statusTransform:function(t,e,a,s){return 0==a?"弃用":1==a?"启用":"禁用"},closeDialog:function(t){this.buttonType[t]=!1,this.tableRow="",this.highlightFlag=!1},cellSelect:function(t){this.highlightFlag=!0,this.tableRow=t},menuListBtn:function(t){"menuAdd"===t?this.buttonType[t]=!0:""===this.tableRow?this.$message.error("请选择要操作的用户"):this.buttonType[t]=!0},reset:function(){this.getMenuList(),this.tableRow=""},getMenuList:function(){var t=this;this.$http.get(f+_).then((function(e){t.tableData=e.data.data}),(function(e){t.$message.error(e.data.message)}))}}},aa=ea,sa=(a("e794"),Object(i["a"])(aa,Ee,Ae,!1,null,null,null)),oa=sa.exports;s["default"].use(c["a"]);var ra=[{path:"/",name:"main",component:I,children:[{path:"index",name:"index",component:q},{path:"info",name:"info",component:ot},{path:"mgr",name:"mgr",component:It},{path:"role",name:"role",component:ue},{path:"dept",name:"dept",component:Ie},{path:"menu",name:"menu",component:oa}],redirect:"index"},{path:"/login",name:"login",component:U}],la=new c["a"]({mode:"history",base:"",routes:ra}),na=la,ia=a("2f62"),da={state:{menu:""},mutations:{setmenu:function(t,e){t.menu=e}}},ua={state:{info:"",menuList:""},mutations:{setinfo:function(t,e){t.info=e},setmenuList:function(t,e){t.menuList=e}}};s["default"].use(ia["a"]);var ca=new ia["a"].Store({state:{},mutations:{},actions:{},modules:{menu:da,userInfo:ua}}),ma=a("5c96"),pa=a.n(ma),fa=(a("0fae"),a("28dd")),ha=a("313e"),ba=a.n(ha);s["default"].config.productionTip=!1,s["default"].prototype.$echarts=ba.a,s["default"].use(pa.a),s["default"].use(fa["a"]),s["default"].use(na),s["default"].http.interceptors.push((function(t,e){localStorage.token?(s["default"].http.headers.common["Authorization"]=localStorage.token,e()):location.href="/login",e((function(t){return 401===t.status&&(location.href="/login"),t}))})),new s["default"]({router:na,store:ca,render:function(t){return t(u)}}).$mount("#app")},"844f":function(t,e,a){},9599:function(t,e,a){},a26b:function(t,e,a){"use strict";var s=a("261f"),o=a.n(s);o.a},a86c:function(t,e,a){},d097:function(t,e,a){},e697:function(t,e,a){"use strict";var s=a("a86c"),o=a.n(s);o.a},e794:function(t,e,a){"use strict";var s=a("9599"),o=a.n(s);o.a}});
//# sourceMappingURL=app.d6390d37.js.map